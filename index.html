<!DOCTYPE HTML>
<!--
	Solarize by TEMPLATED
	templated.co @templatedco
	Released for free under the Creative Commons Attribution 3.0 license (templated.co/license)
-->
<html>
	<head>
		<title>Steun Team Seas</title>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="description" content="" />
		<meta name="keywords" content="" />
		<!--[if lte IE 8]><script src="css/ie/html5shiv.js"></script><![endif]-->
		<script src="js/jquery.min.js"></script>
		<script src="js/jquery.dropotron.min.js"></script>
		<script src="js/skel.min.js"></script>
		<script src="js/skel-layers.min.js"></script>
		<script src="js/init.js"></script>
        <script src="js/swipe.js"></script>
        <script src="js/qrcode.min.js"></script>
        
		<noscript>
			<link rel="stylesheet" href="css/skel.css" />
			<link rel="stylesheet" href="css/style.css" />
		</noscript>
		
		<style>
			#titleBar {display:none !important;}
			#bannertitle {background: none !important;}
			.button, .register {color: black !important;}

			.form {
				display: flex;
				flex-direction: column;
			}

			.form.error {
				color: red;
			}

			.form > * {
				margin-bottom: 8px;
			}

			.form-input {
				background: white !important;
			}

			#form-double {
				display: flex;
				flex-direction: row;
				background: none !important;
				align-items: center;
			}

			#form-double select {
				flex-grow: 1;
				padding: .5em 0.75em;
				background: white;
				border-radius: 0;
				border: 1px solid black;
			}
			
			#form-double div {
				flex-grow: 0;
				margin-left: 8px;
			}

			#form-button {
				background: #555555;
				transition: .3s all;
				border: none;
				padding: 16px 32px;
				cursor: pointer;
				color: white;
				font-size: 20px;
			}

			#form-button.error {
				background: #cc0000;
			}

			#form-button.error:hover {
				background: #cc0000;
			}

			#form-button:active {
				outline: none;
			}

			#form-button:hover {
				background: #3C3C3C;
			}
		</style>
		<!--[if lte IE 8]><link rel="stylesheet" href="css/ie/v8.css" /><![endif]-->
	</head>
	<body class="homepage">

		<!-- Header Wrapper -->
			<div class="wrapper style1">
						
			<!-- Banner -->
				<div id="banner">
					<section class="container">
						<h2 id="bannertitle">Help Team Seas</h2>
						<h3>Tot 16:30 / Until 16:30</h2>
						<p>&nbsp;</p>
					</section>
				</div>

			</div>
		
		<!-- Section One -->
			<div class="wrapper style2">
				<section class="container">
					<div class="row double">
						<div class="6u">
							<header class="major">
								<h2>Wie zijn wij en waarom organiseren wij deze actie?</h2>
								<span class="byline">Wij zijn een groep studenten van de Technische Universiteit Eindhoven. Voor een groepsproject van een vak over entrepreneurship organiseren wij deze loterij om zoveel mogelijk geld in te zamelen voor een goed doel.
								Het doel van de opdracht is om met 5 euro startkapitaal zoveel mogelijk waarde te creëren. Wij doen dit door zo veel mogelijk geld op te halen voor een goed doel. Het door ons gekozen goede doel is Team Seas. Wij hebben vier uur om dit te doen op donderdag 2 december, van 12:30 tot 16:30.</span>
                                <span class="byline">Voor zij die Team Seas niet kennen, Team Seas is een goed doel dat geld ophaalt om plastic van stranden en uit de oceaan te verwijderen. Daarnaast probeert het de toevoer plastic naar de oceaan zo veel mogelijk te beperken. Het geld wordt 50/50 door Team Seas verdeeld over de non-profit organisaties Ocean Conservancy en The Ocean Cleanup. Hiermee wil Ocean Conservancy voor elke gedoneerde euro 1kg plastic van de kust verwijderen en The Ocean Cleanup voor elke doneerde euro 1kg plastic uit de oceaan. Alvast bedankt voor uw bijdrage,<br>Jorn, Jarno, Jort, René en Olfert Jan.</span>
							</header>
							<header class="major">
								<h2>Who are we and why are we organising this action?</h2>
								<span class="byline">We are a group of students at the Eindhoven University of Technology. For a group project of a subject about entrepreneurship we organise this lottery to collect as much money as possible for a good cause.
									The aim of the assignment is to create as much value as possible with 5 euros of start-up capital. We do this by raising as much money as possible for a good cause. Our chosen charity is Team Seas. We have four hours to do this on Thursday 2 December, from 12:30 to 16:30.</span>
                                <span class="byline">For those who don't know Team Seas, Team Seas is a charity that raises money to remove plastic from beaches and the ocean. It also tries to reduce the amount of plastic entering the ocean as much as possible. The money is divided 50/50 by Team Seas between the non-profit organisations Ocean Conservancy and The Ocean Cleanup. Ocean Conservancy wants to remove 1kg of plastic from the coast for every euro donated and The Ocean Cleanup wants to remove 1kg of plastic from the ocean for every euro donated. Thank you for your contribution,<br>Jorn, Jarno, Jort, René and Olfert Jan.</span>
							</header>
						</div>
						<div id="interested-text" class="6u">
							<h3>Wilt u een ticket kopen?</h3>
							<p>Door een ticket te kopen voor deze 'loterij' via onze website doneert u aan Team Seas én maakt u kans op een mooi bosje bloemen! <br> 1 Ticket = 2 Euro, 3 Tickets = 5 Euro, 6 Tickets = 10 Euro, 9 Tickets = 15 Euro en 18 Tickets = 30 Euro</p>
							<h3>Do you want to buy a ticket?</h3>
							<p>By buying a ticket for this 'lottery' via our website, you donate to Team Seas and have the chance to win a nice bunch of flowers!<br> 1 Ticket = 2 Euro, 3 Tickets = 5 Euro, 6 Tickets = 10 Euro, 9 Tickets = 15 Euro and 18 Tickets = 30 Euro.</p>
							<div class="form" id="form">
								<input class="form-input" type="text" placeholder="Uw naam / Our name..." id="form-name">
								<input class="form-input" type="text" placeholder="Uw email-adres / Our emailaddress..." id="form-email">
								<div class="form-input" id="form-double">
									<select id="form-amount" value="1">
										<option value="1">1</option>
										<option value="3">3</option>
										<option value="6">6</option>
										<option value="9">9</option>
										<option value="18">18</option>
									</select>
									<div>loten / tickets</div>
								</div>
								<button id="form-button">€2 - Kopen / Buy</button>
							</div>
							<!-- <a style="line-height: 120%; width: 100%" href="https://forms.gle/QkHoEKtPfUSHBtdX6" target="_blank" class="button register"><b>Klik hier om <br> mee te doen!</b></a> -->
							<!-- <a style="line-height: 120%; width: 100%" href="#" class="button register">De inschrijvingen zijn <br> nog niet geopend</a> -->
						</div>
					</div>
				</section>
			</div>
		
			<script>
				const button = document.getElementById("form-button")
				let timeout = false;
				const value = parseInt(document.getElementById("form-amount").value);
					const map = {
						1: 2,
						3: 5,
						6: 10,
						9: 15,
						18: 30
					}
					button.innerText = `€${map[value]} - Kopen / Buy`;

				document.getElementById("form-amount").addEventListener("change", () => {
					const value = parseInt(document.getElementById("form-amount").value);
					button.innerText = `€${map[value]} - Kopen / Buy`;
				});

				button.addEventListener("click", event => {
					if (timeout == true) return;
					let name = document.getElementById("form-name").value.trim();
					let email = document.getElementById("form-email").value.trim();
					let amount = parseInt(document.getElementById("form-amount").value);

					if(name == "" || email == "") {
						button.classList.add("error");
						timeout = true;

						setTimeout(() => {
							timeout = false;
							button.classList.remove("error");
						}, 3000);

						return;
					}

					$.ajax("/request", {
						type: "GET",
						data: {name, email, amount},
						statusCode: {
							200: function (response) {
								let data = JSON.parse(response);
								
								let form = document.getElementById("form");
								form.innerHTML = "";

								let text = document.createElement("div");
								text.innerText = "Bedankt voor het kopen van het lot. U kunt nu betalen met de volgende QR code of link:";
								form.appendChild(text);

								let qr = document.createElement("div");
								qr.id = "qr-code";
								form.appendChild(qr);

								let link = document.createElement("a");
								link.href = data.link;
								link.innerText = "Of gebruik deze link.";
								form.appendChild(link);

								var qrcode = new QRCode("qr-code", {
									text: data.link,
									width: 256,
									height: 256,
									colorDark : "#000000",
									colorLight : "#ffffff",
									correctLevel : QRCode.CorrectLevel.H
								});
							},
							500: function (response) {
								let form = document.getElementById("form");
								form.classList.add("error")
								form.innerHTML = "Er was een error bij het aanmaken van de betaling. Probeer het alstublieft opnieuw.";
							},
							400: function (response) {
								let form = document.getElementById("form");
								form.classList.add("error")
								form.innerHTML = "Er was een error bij het aanmaken van de betaling. Probeer het alstublieft opnieuw.";
							}
						}
					});
				});
			</script>
	</body>
</html>
